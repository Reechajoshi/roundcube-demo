$(document).ready(function(){window.rcmail&&rcmail.addEventListener("init",function(){rcmail.addEventListener("plugin.calendar_share_compose",calendar_share_compose)})});
function calendar_share_dialog(){var a=[{text:rcmail.gettext("calendar.send"),click:function(){calendar_share_dialog_validate()}},{text:rcmail.gettext("calendar.cancel"),click:function(){$("#sharedialog").dialog("close")}}];$("#sharedialog").dialog({modal:!0,title:rcmail.gettext("calendar.checkresources"),width:"auto",buttons:a});return!1}
function calendar_share_dialog_validate(){var a=!0;$(".shareinvitation").each(function(){$(this).prop("checked")&&(a=!1)});a?rcmail.display_message(rcmail.gettext("calendar.checkatleastoneresource"),"error"):calendar_share_dialog_submit()}function calendar_share_dialog_submit(){$("#sharedialog").dialog("close");rcmail.http_post("plugin.calendar_shareinvitation",unescape($("#formshareinvitation").serialize()));$(".shareinvitation").prop("checked",!1)}
function calendar_share_compose(){rcmail.open_compose_step({_calendar_share_invitation:1})};