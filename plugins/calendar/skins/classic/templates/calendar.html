<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title><roundcube:object name="pagetitle" /></title>
<link rel="stylesheet" type="text/css" href="skins/classic/settings.css" />
<link rel="stylesheet" type="text/css" href="skins/classic/mail.css" />
<roundcube:include file="/includes/links.html" />
<roundcube:object name="cal_category_css" />
</head>
<body>
<roundcube:include file="/includes/taskbar.html" />
<roundcube:include file="/includes/header.html" />
<div id='messagetoolbar'>
<roundcube:container name="toolbar" id="toolbar" />
</div>
<div id='calquicksearchbar'>
<img id='calsearchmod' src='/images/icons/glass_roll.png' width='16' height='16' title="<roundcube:label name="searchmod" />" />
<input id='calsearchfilter' type='text' name='_cal_searchfilter' autocomplete="off" />
<a href='#' id='calsearchreset'><img src='/images/icons/reset.gif' width='13' height='13' /></a>
</div>
<div id='calsearchdialog' title='<roundcube:label name="calendar.calsearch" />'>
<table id='calsearch_table' class='records-table' cols='1' cellspacing='0'></table>
</div>
<roundcube:object name="cal_searchset" />
<div id='todaybutton'><center>
  <button id="prevbut" type="button" title="<roundcube:label name="calendar.prevrange" />"><<</button>
  <button id="todaybut" type="button" disabled="disabled"><roundcube:label name="today" /></button>
  <button id="nextbut" type="button" title="<roundcube:label name="calendar.nextrange" />">>></button>
</center></div>
<div id="calendar-header">
  <div class="boxtitle">
    <center>
      <span id="cal_boxtitle" ></span>
    </center>
  </div>
  <span id="taskstogglecontainer" style="display: none;"><div style="display: inline; float: right; margin-top: -20px;">[<a href="#" id="taskstoggle" title="<roundcube:label name="calendar.hide_tasks" />" style="text-decoration: none;">&minus;</a>]&nbsp;</div></span>
</div>
<div id="mainscreen">
  <div id="sectionslist">
    <div id="datepicker-title" class="boxtitle"></div>
    <div id="weeknumber" style="padding: 5px 0px 0px 0px"></div><hr />
    <div class="boxtitle">
      <center>
        <a href="#"><img src="plugins/calendar/skins/classic/images/dayview.png" id="daybut" title="<roundcube:label name="calendar.day" />" width="16" height="15" /></a>&nbsp;&nbsp;
        <a href="#"><img src="plugins/calendar/skins/classic/images/weekview.png" id="weekbut" title="<roundcube:label name="calendar.week" />" width="16" height="15" /></a>&nbsp;&nbsp;
        <a href="#"><img src="plugins/calendar/skins/classic/images/monthview.png" id="monthbut" title="<roundcube:label name="calendar.month" />" width="16" height="15" /></a>
      </center>
    </div>
    <div type="text" id="jqdatepicker"></div>
    <div id="subscriptions-table">
      <roundcube:object name="subscriptions_table" />
      <br />
    </div>
    <div id="upcoming-maincontainer">
      <div id="upcoming"></div>
    </div>
  </div>  
  <div id="prefs-box">
    <div id='calendar-container'>
      <div id='calendar'></div>
      <div id="tasks">
        <table cellspacing="0" cellpadding="0" width="100%">
          <tr style="height:15px;"><th class="ui-widget-header"><roundcube:label name="calendar.tasks" /></th></tr>
        </table>
        <form name="taskquickinput" action="./?_task=dummy&_action=plugin.calendar" method="post">
        <table cellspacing="0" cellpadding="0" width="100%">
          <tr style="height:15px;">
            <td class="ui-widget-header" width="100%" nowrap>&nbsp;<span id="taskscategories_html"></span><input style="width: 60%" name="_raw" id="taskquickinput" placeholder="<roundcube:label name="calendar.monday" />, <roundcube:label name="calendar.mowthelawn" />" />&nbsp;<input style="width: 10%" type="button" id="taskquickinputsubmit" class="button mainaction" value= '+' onclick=""/></td>
          </tr>
        </table>
        </form>
        <table cellspacing="0" cellpadding="0" width="100%" id="tasksfilter">
          <tr style="height:25px;">
            <th nowrap id="overdue" onclick="$('#view').html('<roundcube:label name="calendar.overdue" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.overdue').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" title="<roundcube:label name="calendar.overdue" />">&nbsp;<a href="#"><roundcube:label name="calendar.overdue" /></a>&nbsp;<div id="coverdue" class="count">(0)</div>&nbsp;</th>
            <th nowrap id="today" onclick="$('#view').html('<roundcube:label name="calendar.today" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.today').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" class="selected" title="<roundcube:label name="calendar.today" />">&nbsp;<a href="#"><roundcube:label name="calendar.today" /></a>&nbsp;<div id="ctoday" class="count">(0)</div>&nbsp;</th>
            <th nowrap id="tomorrow" onclick="$('#view').html('<roundcube:label name="calendar.tomorrow" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.tomorrow').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" title="<roundcube:label name="calendar.tomorrow" />">&nbsp;<a href="#"><roundcube:label name="calendar.tomorrow" /></a>&nbsp;<div id="ctomorrow" class="count">(0)</div>&nbsp;</th>
            <th nowrap id="sevendays" onclick="$('#view').html('<roundcube:label name="calendar.sevendays" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.sevendays').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" title="<roundcube:label name="calendar.sevendays" />">&nbsp;<a href="#"><roundcube:label name="calendar.sevendays" /></a>&nbsp;<div id="csevendays" class="count">(0)</div>&nbsp;</th>
            <th nowrap id="later" onclick="$('#view').html('<roundcube:label name="calendar.later" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.later').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" title="<roundcube:label name="calendar.later" />">&nbsp;<a href="#"><roundcube:label name="calendar.later" /></a>&nbsp;<div id="clater" class="count">(0)</div>&nbsp;</th>
            <th nowrap id="nodate" onclick="$('#view').html('<roundcube:label name="calendar.nodate" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.nodate').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" title="<roundcube:label name="calendar.nodate" />">&nbsp;<a href="#"><roundcube:label name="calendar.nodate" /></a>&nbsp;<div id="cnodate" class="count">(0)</div>&nbsp;</th>
            <th nowrap id="high" onclick="$('#view').html('<roundcube:label name="calendar.high" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.high').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" title="<roundcube:label name="calendar.highpriority" />">&nbsp;<a href="#"><roundcube:label name="calendar.high" /></a>&nbsp;<div id="chigh" class="count">(0)</div>&nbsp;</th>
            <th nowrap id="low" onclick="$('#view').html('<roundcube:label name="calendar.low" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.low').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" title="<roundcube:label name="calendar.lowpriority" />">&nbsp;<a href="#"><roundcube:label name="calendar.low" /></a>&nbsp;<div id="clow" class="count">(0)</div>&nbsp;</th>
            <th nowrap id="all" onclick="$('#view').html('<roundcube:label name="calendar.all" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.all').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" title="<roundcube:label name="calendar.all" />">&nbsp;<a href="#"><roundcube:label name="calendar.all" /></a>&nbsp;<div id="call" class="count">(0)</div>&nbsp;</th>
            <th nowrap id="complete" onclick="$('#view').html('<roundcube:label name="calendar.complete" />'); $('.selected').removeClass('selected'); $(this).addClass('selected'); $('#taskscontent tr').hide(); $('#taskscontent .percentage').show(); $('.complete').show(); if(!$('#taskscontent tr').is(':visible')){ $('.notasks').show() } else { $('.notasks').hide() };" title="<roundcube:label name="calendar.complete" />">&nbsp;<a href="#"><roundcube:label name="calendar.complete" /></a>&nbsp;<div id="ccomplete" class="count">(0)</div>&nbsp;</th>
          </tr>
        </table>
        <table cellspacing="0" cellpadding="0" border="0" width="100%">
          <tbody>
            <tr>
              <th colspan="3" title="<roundcube:label name="calendar.summary" />" class="ui-widget-content">&nbsp;<roundcube:label name="calendar.summary" />&nbsp;</th>
              <th title="<roundcube:label name="calendar.start" />" class="ui-widget-content adjust">&nbsp;<roundcube:label name="calendar.start" />&nbsp;</th>
              <th title="<roundcube:label name="calendar.due" />" class="ui-widget-content adjust">&nbsp;<roundcube:label name="calendar.due" />&nbsp;</th>
              <th title="<roundcube:label name="calendar.completed" />" class="ui-widget-content adjust">&nbsp;<roundcube:label name="calendar.completed" />&nbsp;</th>
              <th title="<roundcube:label name="calendar.percentage" />" class="ui-widget-content" style="width: 60px;">&nbsp;%&nbsp;</th>
              <th title="<roundcube:label name="calendar.status" />" class="ui-widget-content" style="width: 60px;">&nbsp;<roundcube:label name="calendar.status" />&nbsp;</th>
            </tr>
          </tbody>
        </table>
        <div id="taskscontent"></div>
      </div>
    </div>
  </div>
</div>
<roundcube:object name="event_dialog" />
<div id="printmenu" class="popupmenu" style="display: none;">
  <ul class="toolbarmenu">
    <li><a class="eventsprint active" href="#" onclick="return rcmail.command('plugin.events_print','sub',this,event)"><roundcube:label name="calendar.events" /></a></li>
    <li><a class="tasksprint active" href="#" onclick="return rcmail.command('plugin.tasks_print','sub',this,event)"><roundcube:label name="calendar.tasks" /></a></li>
  </ul>
</div>
<div id="calswitch">
  <form name="switch" id="switch" method="post" action="./?_task=dummy&_action=plugin.calendar">
    <label for="cal_user"><roundcube:label name="calendar.cal_user" /></label>:&nbsp;
    <span id="calusers"></span>
  </form>
</div>
<div id="calendaroverlay"></div>
</body>
</html>